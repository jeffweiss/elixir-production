{
  "description": "Elixir production quality enforcement hooks",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Write:*.ex|Write:*.exs|Edit:*.ex|Edit:*.exs",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Before writing/editing this Elixir code, verify: 1) Are typespecs needed for public functions? 2) Is error handling explicit with tagged tuples ({:ok, value} / {:error, reason})? 3) Are tests required for new functionality? Only proceed if yes, or explicitly document why not (e.g., SPIKE mode).",
            "timeout": 30
          }
        ]
      }
    ],

    "PostToolUse": [
      {
        "matcher": "Edit:*.ex|Edit:*.exs|Write:*.ex|Write:*.exs",
        "hooks": [
          {
            "type": "command",
            "command": "./hooks/scripts/validate-precommit.sh",
            "blocking": false,
            "description": "Validates Elixir code changes meet precommit standards. Non-blocking (warnings only)."
          }
        ]
      }
    ],

    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/session-start.sh",
            "timeout": 10
          }
        ]
      }
    ],

    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/session-end.sh",
            "timeout": 5
          }
        ]
      }
    ]
  },

  "environment": {
    "ELIXIR_VALIDATE_ON_EDIT": "1"
  },

  "notes": [
    "PreToolUse prompts remind about Elixir best practices before code changes (only .ex/.exs files)",
    "PostToolUse validation provides immediate feedback for Elixir files (non-blocking warnings)",
    "SessionStart loads all project context (standards, patterns, technical debt)",
    "SessionEnd suggests capturing new knowledge in project-learnings.md",
    "Configure behavior via .claude/elixir-production.local.md per project"
  ]
}
